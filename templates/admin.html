<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Templeball - Admin</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
  <div class="main-container">
    <!-- Top-level navigation (unchanged) -->
    <div class="main-nav">
      <button onclick="location.href='/'">Vote</button>
      <button class="active" onclick="location.href='/admin'">Admin</button>
    </div>
    <h1>Admin</h1>
    <h2 id="poll-date"></h2>
    
    <!-- NEW: Admin Sub-Navigation -->
    <div class="sub-nav">
      <button id="poll-results-btn" class="active">Poll Results</button>
      <button id="player-ratings-btn">Player Ratings</button>
    </div>
    
    <!-- NEW: Poll Results Section (Existing content moved here) -->
    <div id="poll-results-section" class="admin-section active">
      <div class="field-container">
        <label for="pollDateField"><strong>Poll Date</strong></label>
        <textarea id="pollDateField" class="admin-textarea" readonly>{{ poll_date }}</textarea>
        <br>
        <button onclick="copyToClipboard('pollDateField')">Copy to clipboard</button>
      </div>
      <div class="field-container">
        <label for="availableField"><strong>List of Available People + inTime</strong></label>
        <textarea id="availableField" class="admin-textarea" readonly>{{ available_string }}</textarea>
        <br>
        <button onclick="copyToClipboard('availableField')">Copy to clipboard</button>
      </div>
    </div>
    
    <!-- NEW: Player Ratings Section (Placeholder for now) -->
    <!-- Player Ratings Section -->
    <div id="player-ratings-section" class="admin-section">
      <div class="field-container">
      <label for="playerRatingsField"><strong>Player Ratings</strong></label>
      <textarea id="playerRatingsField" class="admin-textarea" readonly>{{ player_ratings }}</textarea>
      <br>
      <button onclick="copyToClipboard('playerRatingsField')">Copy to clipboard</button>
      </div>
    </div>

  </div>
  
  <script>
    function copyToClipboard(elementId) {
      const textarea = document.getElementById(elementId);
      textarea.select();
      textarea.setSelectionRange(0, 999999); // For mobile devices
      document.execCommand("copy");
      alert("Copied to clipboard!");
    }
    
    // Admin sub-navigation toggling
    const pollResultsBtn = document.getElementById('poll-results-btn');
    const playerRatingsBtn = document.getElementById('player-ratings-btn');
    const pollResultsSection = document.getElementById('poll-results-section');
    const playerRatingsSection = document.getElementById('player-ratings-section');
    
    pollResultsBtn.addEventListener('click', () => {
      pollResultsBtn.classList.add('active');
      playerRatingsBtn.classList.remove('active');
      pollResultsSection.classList.add('active');
      playerRatingsSection.classList.remove('active');
    });
    
    playerRatingsBtn.addEventListener('click', () => {
      playerRatingsBtn.classList.add('active');
      pollResultsBtn.classList.remove('active');
      playerRatingsSection.classList.add('active');
      pollResultsSection.classList.remove('active');
    });
  </script>
</body>
</html>